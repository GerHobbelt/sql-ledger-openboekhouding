<?xml version="1.0" encoding="utf-8"?>
<sql-ledger-root>
  <letterhead>
    <title>STATEMENT</title>

    <%include letterhead.xml%>
    
  </letterhead>

<!-- 
 all XML formats have the same structure: the info is contained in a CONTENT block of certain TYPE.
 That way we can batch/merge XML files without loosing any data; all they'll share is 
 the LETTERHEAD block above and FOOTER block further below.
-->
  <content type="STATEMENT" >
    <!-- when CONTENT has only a single CRM record, it is type-attribute-less and the addressee, implicitly -->
    <crm>
      <%name%>
      <%address1%>
      <%address2%>
      <%city%> 
      <%state%> 
      <%zipcode%> 
      <%country%> 
      <%contact%>
      <%customerphone%> 
      <%customerfax%> 
      <%email%>
      <%customertaxnumber%> 
    </crm>

<!-- <%company%> + <%address%> are common values found in LETTERHEAD chunk, so they do not show up here (while they DO in the HTML template...) -->

    <%statementdate%> 

<!--
     Invoice # 
     Order# 
     Date 
     Due 
     Current 
     30 
     60 
     90 
-->
<%foreach invnumber%>
    <statement-item>
      <%invnumber%> 
      <%ordnumber%> 
      <%invdate%> 
      <%duedate%> 
      <%c0%> 
      <%c30%> 
      <%c60%> 
      <%c90%> 
    </statement-item>
<%end invnumber%>

    <summary-totals>
      <%c0total%> 
      <%c30total%> 
      <%c60total%> 
      <%c90total%> 

      <%total%> 
    </summary-totals>

    <currency-info>
      <%currency%>
    </currency-info>

    <%notes%>
    
  </content>
</sql-ledger-root>
